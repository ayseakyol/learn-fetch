<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Learn Fetch & Promises</title>
</head>

<body>
  <h1>Open the console</h1>
  <script>
    //challange 1
    let look = fetch("https://pokeapi.co/api/v2/pokemon/pikachu");
    console.log(look);

    //challange 2
    fetch("https://pokeapi.co/api/v2/pokemon/pikachu").then((response) => {
      console.log(response);
    });

    //challange 3
    fetch("https://pokeapi.co/api/v2/pokemon/pikachu").then((response) =>
      response.json().then((data) => console.log(data))
    );

    //challange 4

    fetch()
      .then((response) => console.log(response))
      .catch((error) => console.log(error));

    //Task 1
    const getUser = (username) =>
      fetch(`https://api.github.com/users/${username}`).then((response) =>
        response.json()
      );
    getUser("oliverjam").then(console.log).catch(console.error);

    //Task 2
    const getRepos = (user) =>
      fetch(user.repos_url).then((response) => response.json());

    getUser("oliverjam")
      .then(getRepos)
      .then((response) => console.log(response))
      .catch((error) => console.log(error));

    //Task 4 Bonus
    let oliverJamPromise = getUser("oliverjam");
    let starsuitPromise = getUser("starsuit");

    Promise.all([oliverJamPromise, starsuitPromise])
      .then((response) => console.log(response))
      .catch((error) => console.log(error));
  </script>
</body>

</html>